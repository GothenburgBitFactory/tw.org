<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="/images/favicon.ico">

    <title>Taskwarrior - What's next?</title>

    <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/site.css" rel="stylesheet">
    <link href="/docs/docs.css" rel="stylesheet">

    <!--[if lt IE 9]><script src="/bootstrap/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <div class="navbar navbar-default navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <a class="navbar-brand text-heavy" href="/"><img src="/images/tw-s.png" width="24" height="24"> TASKWARRIOR</a>
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li><a href="/news/">News</a></li>
            <li class="active"><a href="/docs/">Docs</a></li>
            <li><a href="/download/">Download</a></li>
            <li><a href="/support/">Support</a></li>
            <li><a href="/tools/">Tools</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="col-md-10">
        <div class="col-md-2">
        </div>

        <div class="col-md-10 main">
          <div class="row">
            <a name="l10n"></a>
            <h3>Localization</h3>
            <p>
              You can localize Taskwarrior to your language of choice.  This involves
              modifying a single, although large, text file, replacing the English text with
              translated equivalents.  While this is an over-simplification, it provides the
              appropriate expectation: you will need written fluency in both English and the
              target language.
            </p>

            <a name="prep"></a>
            <h4>Example Localization - Preparation</h4>
            <p>
              You will need a development environment.  This includes Git, a C++ compiler, linker,
              CMake, some libraries and familiarity with building projects from source code.
              As a translator, you will be working directly with source code, so care must be
              taken not to introduce syntax errors.
            </p>

            <p>
              Let us assume that you wish to create a Danish localization.  The first step is
              to obtain a copy of the latest source code, and build Taskwarrior.  That process
              involves the commands shown:
            </p>

            <pre>$ git clone https://git.tasktools.org/scm/tm/task.git task.git
$ cd task.git
$ git checkout 2.4.0
$ cmake .
$ make</pre>

            <p>
              Be sure to use the latest development branch, otherwise your
              ultimate patch will not apply.  This will result in the
              production of this binary:
            </p>

            <pre>task.git/src/task</pre>

            <p>
              This is the standard version using U.S. English.  Let's take a look at the
              language selection mechanism.  Look inside the file:
            </p>

            <pre>task.git/cmake.h</pre>

            <p>
              Specifically for this code:
            </p>

            <pre>/* Localization */
#define PACKAGE_LANGUAGE  1
#define LANGUAGE_ENG_USA 1</pre>

            <p>
              This file must be modified, so that the above three lines of code now look like
              these four lines:
            </p>

            <pre>/* Localization */
#define PACKAGE_LANGUAGE  2
#define LANGUAGE_ENG_USA 1
#define LANGUAGE_DAN_DNK 2</pre>

            <p>
              Notice that a new line is added for the DAN_DNK translation, with a unique value
              of 2.  This number should be one higher than the preceding line.  Note also that
              the PACKAGE_LANGUAGE should also be set to 2.  If there have already been other
              localizations, there may be several lines already there, in which case add your
              line, choose a unique number, and modify PACKAGE_LANGUAGE.  Note that FR_FR is
              a Locale value, indicating French language for France.
            </p>

            <p>
              The next file to modify is:
            </p>

            <pre>task.git/src/i18n.h</pre>

            <p>
              Look for these lines near the top:
            </p>

            <pre>#if PACKAGE_LANGUAGE == LANGUAGE_ENG_USA
#include &lt;eng-USA.h&gt;
#endif</pre>

            <p>
              You will need to add three more lines, so that it looks like this:
            </p>

            <pre>#if PACKAGE_LANGUAGE == LANGUAGE_ENG_USA
#include &lt;eng-USA.h&gt;
#endif
#if PACKAGE_LANGUAGE == LANGUAGE_DAN_DNK
#include &lt;dan-DNK.h&gt;
#endif</pre>

            <p>
              The final step is to create that dan-DNKR.h file, using this command:
            </p>

            <pre>$ cp task.git/src/l10n/eng-USA.h task.git/src/l10n/dan-DNK.h</pre>

            <p>
              This creates the new Danish localization file, although it is initially just a
              copy of the English text.  To make sure you have run the commands above
              correctly, build the code using:
            </p>

            <pre>$ cmake -D LANGUAGE=2 .
$ make</pre>

            <p>
              This should again result in the binary:
            </p>

            <pre>task.git/src/task</pre>

            <p>
              Which should still run, and still generate English output.
            </p>

            <a name="trans"></a>
            <h4>Example Localization - Translation</h4>
            <p>
              Now that the technical aspect of the translation is complete, it is time to
              approach the translation of the text.  Using only a text editor, not a word
              processor, modify the first two strings, which are:
            </p>

            <pre>#define STRING_LOCALIZATION_DESC     "English localization"
#define STRING_LOCALIZATION_AUTHOR   "Translated into English by A. Person."</pre>

            <p>
              You should change the strings on the right hand side only, between the double
              quotes.  If you modify the left hand side, the code will not compile.  Note also
              that you may not use double quotes inside the string.
            </p>

            <p>
              The first line is simply an identification of the localization in the target
              language.  This should be translated and kept short.
            </p>

            <p>
              The second line is an attribution.  Translate this into the target language,
              and substitute your name.  Do not include a copyright.  The copyright on
              Taskwarrior may not be modified.

              Save the file, and rebuild using:
            </p>

            <pre>$ make</pre>

            <p>
              Then run Taskwarrior to see the effects of your translation:
            </p>

            <pre>$ ./task-2.4.0/src/task version

task 2.4.0.dev built for linux English localization
Copyright (C) 2006 - 2016 P. Beckingham, F. Hernandez.

Taskwarrior may be copied only under the terms of the MIT license, which may
be found in the taskwarrior source kit.

Documentation for taskwarrior can be found using 'man task', 'man taskrc',
'man task-color', 'man task-sync' or at http://taskwarrior.org

Translated into English by A. Person.</pre>

            <p>
              See your two translated strings instead of the defaults (as above)?
              Good.  Now the hard part...
            </p>

            <a name="work"></a>
            <h4>Example Localization - The Work</h4>
            <p>
              Now that the mechanism is shown to be working, it is simply a matter of
              translating the remaining strings to the target language.  There are a
              few guidelines:
            </p>

            <p>
              <ul>
                <li>
                  Maintain a consistent tense and voice, perhaps copying that of
                  the original message, or improving on it.
                </li>
                <li>
                  Try to preserve the general length of the original message.
                  A short status message should remain short in the translation,
                  if possible.
                </li>
                <li>
                  Note that some strings have placeholders, which are marked as {1} or {2}.
                  These do not need to remain in that order, and can be changed.  For
                  example, the messages:

                  <pre>"The file {1} could not be found.  Error {2}"
"Error {2} generated because the file {1} was not found."</pre>

                  These are two examples in English where the order of the placeholders is not
                  preserved, but the semantics are.  {1} is a file name, and {2} is an error
                  message.
                </li>
                <li>
                  By all means add comments to the source file with hints, reasons,
                  justifications, decisions made. This may help you, or the next
                  person.
                </li>
              </ul>
            </p>
          </div>

          <br />
          <br />
        </div>
      </div>

      <div class="col-md-2">
        <div class="alert alert-warning">
          <ul class="list-unstyled">
            <li><a class="alert-link" href="#l10n">Localization</a></li>
            <li><a class="alert-link" href="#prep">Example - Preparation</a></li>
            <li><a class="alert-link" href="#trans">Example - Translation</a></li>
            <li><a class="alert-link" href="#work">Example - The Work</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div id="footer">
      <div class="container">
        <div class="col-md-2">
          <p class="text-muted">
            Get Involved
            <br />
            <a href="https://bug.tasktools.org/secure/CreateIssue!default.jspa">Submit a bug</a>
            <br />
            <a href="https://git.tasktools.org/projects/TM/repos/task/browse">Clone the code</a>
          </p>
        </div>
        <div class="col-md-2">
          <p class="text-muted">
            Monitor
            <br />
            <a href="http://status.tasktools.org">System status</a>
            <br />
            <a href="http://statuspage.tasktools.org">Operations Information</a>
          </p>
        </div>
        <div class="col-md-2">
          <p class="text-muted">
            Related Sites
            <br />
            <a href="http://tasktools.org">tasktools.org</a>
            <br />
            <a href="http://holidata.net">holidata.net</a>
          </p>
        </div>
        <div class="col-md-2">
          <p class="text-muted">
            Contact
            <br />
            <a href="mailto:support@taskwarrior.org"><span class="glyphicon glyphicon-envelope"></span> Email</a>
            <br />
            <a href="https://twitter.com/taskwarrior"><img src="/images/twitter_dark.png" width="16px" height="16px"> Twitter</a>
          </p>
        </div>
        <div class="col-md-2">
          <p class="text-muted">
            Donate
            <br />
            <form action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="lc" value="en_US">
              <input type="hidden" name="cmd" value="_s-xclick">
              <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----">
              <input type="image" src="/images/paypal.jpg" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
              <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
            </form>
          </p>
        </div>
        <div class="col-md-2">
          <p class="text-muted">
            Copyright &copy; 2016 <a href="/about.html">Göteborg Bit Factory</a>
          </p>
        </div>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js"></script>

    <!-- Piwik -->
    <script type="text/javascript">
      var _paq = _paq || [];
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);

      (function() {
        var u=(("https:" == document.location.protocol) ? "https" : "http") + "://see.tasktools.org/piwik/";
        _paq.push(["setTrackerUrl", u+"piwik.php"]);
        _paq.push(["setSiteId", "1"]);
        var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
        g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
      })();
    </script>
    <!-- End Piwik Code -->
  </body>
</html>
