{{ $baseUrl := .Site.BaseURL | replaceRE "/$" "" }}
{{ partial "header.html" . }}

<main role="main">
  <div class="container">
    <div class="row">
      <div class="col-lg-10 main">
        <article>
          <section>
            {{ .Content }}
          </section>
        </article>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-2 main">
        <div class="card text-bg-light mb-3">
          <div class="card-body">
            <fieldset>
              <div class="mb-3">
                <label class="form-label">Filter mode</label>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="categoryMode" id="mode-any" value="any" checked>
                  <label class="form-check-label" for="mode-any">
                    <small>
                      <span class="tooltip">
                        match any
                        <span class="tooltip-text">
                          boolean OR
                        </span>
                      </span>
                    </small>
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="categoryMode" id="mode-all" value="all">
                  <label class="form-check-label" for="mode-all">
                    <small>
                      <span class="tooltip">
                        match all
                        <span class="tooltip-text">
                          boolean AND
                        </span>
                      </span>
                    </small>
                  </label>
                </div>
              </div>
              <div class="mb-2">
                <label class="form-label" for="search">Search</label>
                <input type="search" class="form-control form-control-sm" id="search" autocomplete="off" placeholder="Keywords..."/>
              </div>
              <div class="checkbox mb-1 search-filter category">
                <label for="include-taskwarrior2" class="d-flex">
                  <input type="checkbox" class="form-check-input me-2" id="include-taskwarrior2" checked/>
                  <small>
                    <span class="tooltip">
                      Taskwarrior 2&ensp;
                      <em class="bi bi-2-circle-fill"></em>
                      <span class="tooltip-text">
                        Include projects intended for Taskwarrior 2.
                      </span>
                    </span>
                  </small>
                </label>
              </div>
              <div class="checkbox mb-1 search-filter category">
                <label for="include-taskwarrior3" class="d-flex">
                  <input type="checkbox" class="form-check-input me-2" id="include-taskwarrior3" checked/>
                  <small>
                    <span class="tooltip">
                      Taskwarrior 3&ensp;
                      <em class="bi bi-3-circle-fill"></em>
                      <span class="tooltip-text">
                        Include projects intended for Taskwarrior 3.
                      </span>
                    </span>
                  </small>
                </label>
              </div>
              <div class="checkbox mb-1 search-filter category">
                <label for="include-taskserver" class="d-flex">
                  <input type="checkbox" class="form-check-input me-2" id="include-taskserver" checked/>
                  <small>
                    <span class="tooltip">
                      Taskserver&ensp;
                      <em class="bi bi-database-fill"></em>
                      <span class="tooltip-text">
                        Include projects intended for Taskserver.
                      </span>
                    </span>
                  </small>
                </label>
              </div>
              <div class="checkbox mb-1 search-filter">
                <label for="exclude-dormant" class="d-flex">
                  <input type="checkbox" class="form-check-input me-2" id="exclude-dormant"/>
                  <small>
                    <span class="tooltip">
                      Exclude dormant projects&ensp;
                      <em class="bi bi-moon-stars"></em>
                      <span class="tooltip-text">
                        A project is considered 'dormant' if its last update was more than 3 years ago.
                      </span>
                    </span>
                  </small>
                </label>
              </div>
              <div class="checkbox search-filter">
                <label for="include-archived" class="d-flex">
                  <input type="checkbox" class="form-check-input me-2" id="include-archived"/>
                  <small>
                    <span class="tooltip">
                      Include archived projects&ensp;
                      <em class="bi bi-archive"></em>
                      <span class="tooltip-text">
                        Include tools whose repository has been archived by their owner.
                        Note that those are no longer maintained!
                      </span>
                    </span>
                  </small>
                </label>
              </div>
            </fieldset>
          </div>
        </div>
        <div class="card text-bg-light mb-3">
          <div class="card-body">
            <fieldset>
              <label class="form-label" for="languages-combo" id="languages-combo-label">Languages</label>
              <div class="combo mb-3 js-multiselect" id="js-multiselect-languages">
                <ul class="selected-options" id="languages-combo-selected"></ul>
                <input type="text" name="language-input" id="languages-combo" placeholder="Select..." role="combobox" class="form-control form-control-sm" autocomplete="off" aria-labelledby="languages-combo-label"/>
                <div class="combo-menu" role="listbox" id="languages-listbox"></div>
              </div>

              <label class="form-label" for="owners-combo" id="owners-combo-label">Owners</label>
              <div class="combo js-multiselect" id="js-multiselect-owners">
                <ul class="selected-options" id="owners-combo-selected"></ul>
                <input type="text" name="owner-input" id="owners-combo" placeholder="Select..." role="combobox" class="form-control form-control-sm" autocomplete="off" aria-labelledby="owners-combo-label"/>
                <div class="combo-menu" role="listbox" id="owners-listbox"></div>
              </div>
            </fieldset>
          </div>
        </div>
      </div>
      <div class="col-lg-8 main">
        <p class="lead" id="search-result-message">
          Loading...
        </p>
        <div class="table-responsive">
          <table class="table table-striped" aria-label="tools table">
            <thead>
            <tr>
              <th scope="col">Tool</th>
              <th scope="col">Description</th>
              <th scope="col">License</th>
            </tr>
            </thead>
            <tbody id="tools-table">

            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</main>

{{ partial "footer.html" . }}

<script src="{{ $baseUrl }}/js/multiselect.js" type="text/javascript"></script>
<script src="{{ $baseUrl }}/js/filter.js" type="text/javascript"></script>
